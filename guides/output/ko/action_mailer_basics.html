<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>액션메일러 기본(Action Mailer Basics) {원문·전체} — Ruby on Rails Guides</title>
<link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

<link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shCore.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shThemeRailsGuides.css" />

<link rel="stylesheet" type="text/css" href="stylesheets/fixes.css" />

<link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
</head>
<body class="guide">
  <div>
    <img src="images/edge_badge.png" alt="edge-badge" id="edge-badge" />
  </div>
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">More at <a href="http://rubyonrails.org/">rubyonrails.org:</a> </strong>
      <span class="red-button more-info-button">
        More Ruby on Rails
      </span>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="http://rubyonrails.org/">개요</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/download">다운로드</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/deploy">배포</a></li>
        <li class="more-info"><a href="https://github.com/rails/rails">코드</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/screencasts">스크린캐스트</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/documentation">도큐먼트</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/ecosystem">생태계</a></li>
        <li class="more-info"><a href="http://rubyonrails.org/community">커뮤니티</a></li>
        <li class="more-info"><a href="http://weblog.rubyonrails.org/">블로그</a></li>
      </ul>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="index.html" title="Return to home page">Guides.rubyonrails.org</a></h1>
      <ul class="nav">
        <li><a class="nav-item" href="index.html">홈</a></li>
        <li class="guides-index guides-index-large">
          <a href="index.html" onclick="guideMenu(); return false;" id="guidesMenu" class="guides-index-item nav-item">가이드 인덱스</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
              <dl class="L">
                <dt>Start Here</dt>
                <dd><a href="getting_started.html">Getting Started with Rails</a></dd>
                <dt>Models</dt>
                <dd><a href="active_record_basics.html">Active Record Basics</a></dd>
                <dd><a href="active_record_migrations.html">Active Record Migrations</a></dd>
                <dd><a href="active_record_validations.html">Active Record Validations</a></dd>
                <dd><a href="active_record_callbacks.html">Active Record Callbacks</a></dd>
                <dd><a href="association_basics.html">Active Record Associations</a></dd>
                <dd><a href="active_record_querying.html">Active Record Query Interface</a></dd>
                <dt>Views</dt>
                <dd><a href="layouts_and_rendering.html">Layouts and Rendering in Rails</a></dd>
                <dd><a href="form_helpers.html">Action View Form Helpers</a></dd>
                <dt>Controllers</dt>
                <dd><a href="action_controller_overview.html">Action Controller Overview</a></dd>
                <dd><a href="routing.html">Rails Routing from the Outside In</a></dd>
              </dl>
              <dl class="R">
                <dt>Digging Deeper</dt>
                <dd><a href="active_support_core_extensions.html">Active Support Core Extensions</a></dd>
                <dd><a href="i18n.html">Rails Internationalization API</a></dd>
                <dd><a href="action_mailer_basics.html">Action Mailer Basics</a></dd>
                <dd><a href="active_job_basics.html">Active Job Basics</a></dd>
                <dd><a href="security.html">Securing Rails Applications</a></dd>
                <dd><a href="debugging_rails_applications.html">Debugging Rails Applications</a></dd>
                <dd><a href="configuring.html">Configuring Rails Applications</a></dd>
                <dd><a href="command_line.html">Rails Command Line Tools and Rake Tasks</a></dd>
                <dd><a href="asset_pipeline.html">Asset Pipeline</a></dd>
                <dd><a href="working_with_javascript_in_rails.html">Working with JavaScript in Rails</a></dd>
                <dd><a href="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants</a></dd>
                <dt>Extending Rails</dt>
                <dd><a href="rails_on_rack.html">Rails on Rack</a></dd>
                <dd><a href="generators.html">Creating and Customizing Rails Generators</a></dd>
                <dt>Contributing to Ruby on Rails</dt>
                <dd><a href="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</a></dd>
                <dd><a href="api_documentation_guidelines.html">API Documentation Guidelines</a></dd>
                <dd><a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a></dd>
                <dt>Maintenance Policy</dt>
                <dd><a href="maintenance_policy.html">Maintenance Policy</a></dd>
                <dt>Release Notes</dt>
                <dd><a href="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</a></dd>
                <dd><a href="4_2_release_notes.html">Ruby on Rails 4.2 Release Notes</a></dd>
                <dd><a href="4_1_release_notes.html">Ruby on Rails 4.1 Release Notes</a></dd>
                <dd><a href="4_0_release_notes.html">Ruby on Rails 4.0 Release Notes</a></dd>
                <dd><a href="3_2_release_notes.html">Ruby on Rails 3.2 Release Notes</a></dd>
                <dd><a href="3_1_release_notes.html">Ruby on Rails 3.1 Release Notes</a></dd>
                <dd><a href="3_0_release_notes.html">Ruby on Rails 3.0 Release Notes</a></dd>
                <dd><a href="2_3_release_notes.html">Ruby on Rails 2.3 Release Notes</a></dd>
                <dd><a href="2_2_release_notes.html">Ruby on Rails 2.2 Release Notes</a></dd>
              </dl>
          </div>
        </li>
        <li><a class="nav-item" href="contributing_to_ruby_on_rails.html">기여하기</a></li>
        <li><a class="nav-item" href="credits.html">크레딧</a></li>
        <li class="guides-index guides-index-small">
          <select class="guides-index-item nav-item">
            <option value="index.html">가이드 인덱스</option>
              <optgroup label="Start Here">
                  <option value="getting_started.html">Getting Started with Rails</option>
              </optgroup>
              <optgroup label="Models">
                  <option value="active_record_basics.html">Active Record Basics</option>
                  <option value="active_record_migrations.html">Active Record Migrations</option>
                  <option value="active_record_validations.html">Active Record Validations</option>
                  <option value="active_record_callbacks.html">Active Record Callbacks</option>
                  <option value="association_basics.html">Active Record Associations</option>
                  <option value="active_record_querying.html">Active Record Query Interface</option>
              </optgroup>
              <optgroup label="Views">
                  <option value="layouts_and_rendering.html">Layouts and Rendering in Rails</option>
                  <option value="form_helpers.html">Action View Form Helpers</option>
              </optgroup>
              <optgroup label="Controllers">
                  <option value="action_controller_overview.html">Action Controller Overview</option>
                  <option value="routing.html">Rails Routing from the Outside In</option>
              </optgroup>
              <optgroup label="Digging Deeper">
                  <option value="active_support_core_extensions.html">Active Support Core Extensions</option>
                  <option value="i18n.html">Rails Internationalization API</option>
                  <option value="action_mailer_basics.html">Action Mailer Basics</option>
                  <option value="active_job_basics.html">Active Job Basics</option>
                  <option value="security.html">Securing Rails Applications</option>
                  <option value="debugging_rails_applications.html">Debugging Rails Applications</option>
                  <option value="configuring.html">Configuring Rails Applications</option>
                  <option value="command_line.html">Rails Command Line Tools and Rake Tasks</option>
                  <option value="asset_pipeline.html">Asset Pipeline</option>
                  <option value="working_with_javascript_in_rails.html">Working with JavaScript in Rails</option>
                  <option value="autoloading_and_reloading_constants.html">Autoloading and Reloading Constants</option>
              </optgroup>
              <optgroup label="Extending Rails">
                  <option value="rails_on_rack.html">Rails on Rack</option>
                  <option value="generators.html">Creating and Customizing Rails Generators</option>
              </optgroup>
              <optgroup label="Contributing to Ruby on Rails">
                  <option value="contributing_to_ruby_on_rails.html">Contributing to Ruby on Rails</option>
                  <option value="api_documentation_guidelines.html">API Documentation Guidelines</option>
                  <option value="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</option>
              </optgroup>
              <optgroup label="Maintenance Policy">
                  <option value="maintenance_policy.html">Maintenance Policy</option>
              </optgroup>
              <optgroup label="Release Notes">
                  <option value="upgrading_ruby_on_rails.html">Upgrading Ruby on Rails</option>
                  <option value="4_2_release_notes.html">Ruby on Rails 4.2 Release Notes</option>
                  <option value="4_1_release_notes.html">Ruby on Rails 4.1 Release Notes</option>
                  <option value="4_0_release_notes.html">Ruby on Rails 4.0 Release Notes</option>
                  <option value="3_2_release_notes.html">Ruby on Rails 3.2 Release Notes</option>
                  <option value="3_1_release_notes.html">Ruby on Rails 3.1 Release Notes</option>
                  <option value="3_0_release_notes.html">Ruby on Rails 3.0 Release Notes</option>
                  <option value="2_3_release_notes.html">Ruby on Rails 2.3 Release Notes</option>
                  <option value="2_2_release_notes.html">Ruby on Rails 2.2 Release Notes</option>
              </optgroup>
          </select>
        </li>
      </ul>
      </div>
    </div>
  </div>
  <hr class="hide" />

  <div id="feature">
    <div class="wrapper">
      <h2>액션메일러 기본<span class="original-text-h">(Action Mailer Basics)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href='#' class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></h2><p>이 가이드에서는 어플리케이션으로부터 이메일을 보내고 받는 것에 대한 것과 액션메일러 내부에 대한 내용을 제공해 줍니다. 또한 메일러를 테스트하는 방법에 대해서도 다루게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href='#' class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">This guide provides you with all you need to get started in sending and receiving emails from and to your application, and many internals of Action Mailer. It also covers how to test your mailers.</p><p>이 가이드를 읽은 후에는 아래와 같은 사항을 알게 될 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href='#' class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">After reading this guide, you will know:</p>
<ul>
<li><p>레일스 어플리케이션내에서 이메일을 보내고 받는 방법 <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href='#' class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">How to send and receive email within a Rails application.</p></li>
<li><p>액션메일러 클래스와 메일러 뷰를 생성하고 수정하는 방법 <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href='#' class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">How to generate and edit an Action Mailer class and mailer view.</p></li>
<li><p>개발환경에 맞도록 액션메일러를 설정하는 방법 <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href='#' class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">How to configure Action Mailer for your environment.</p></li>
<li><p>액션메일러 클래서를 테스트하는 방법 <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href='#' class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">How to test your Action Mailer classes.</p></li>
</ul>


                <div id="subCol">
            <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
            <ol class="chapters">
<li><a href="#%EA%B0%9C%EC%9A%94-introduction-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">개요<span class="original-text-h">(Introduction)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li>
<a href="#%EC%9D%B4%EB%A9%94%EC%9D%BC-%EB%B0%9C%EC%86%A1%ED%95%98%EA%B8%B0-sending-emails-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">이메일 발송하기<span class="original-text-h">(Sending Emails)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a>

<ul>
<li><a href="#%EB%A9%94%EC%9D%BC%EB%9F%AC-%EC%83%9D%EC%84%B1%EB%B0%A9%EB%B2%95-walkthrough-to-generating-a-mailer-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">메일러 생성방법<span class="original-text-h">(Walkthrough to Generating a Mailer)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#%EC%9E%90%EB%8F%99-%EC%9D%B8%EC%BD%94%EB%94%A9-%ED%97%A4%EB%8D%94-%EA%B0%92-auto-encoding-header-values-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">자동 인코딩 헤더 값<span class="original-text-h">(Auto encoding header values)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#%EC%95%A1%EC%85%98%EB%A9%94%EC%9D%BC%EB%9F%AC-%EB%A9%94%EC%86%8C%EB%93%9C-%EC%A0%84%EC%B2%B4%EB%AA%A9%EB%A1%9D-complete-list-of-action-mailer-methods-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">액션메일러 메소드 전체목록<span class="original-text-h">(Complete List of Action Mailer Methods)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#%EB%A9%94%EC%9D%BC%EB%9F%AC-%EB%B7%B0-mailer-views-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">메일러 뷰<span class="original-text-h">(Mailer Views)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#%EC%95%A1%EC%85%98-%EB%A9%94%EC%9D%BC%EB%9F%AC-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83-action-mailer-layouts-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">액션 메일러 레이아웃<span class="original-text-h">(Action Mailer Layouts)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#%EC%95%A1%EC%85%98%EB%A9%94%EC%9D%BC%EB%9F%AC-%EB%B7%B0%EC%97%90%EC%84%9C-url%EC%9D%84-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0-generating-urls-in-action-mailer-views-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">액션메일러 뷰에서 URL을 생성하기<span class="original-text-h">(Generating URLs in Action Mailer Views)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#multipart-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EB%B0%9C%EC%86%A1%ED%95%98%EA%B8%B0-sending-multipart-emails-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">Multipart 이메일 발송하기<span class="original-text-h">(Sending Multipart Emails)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#%EB%B0%9C%EC%86%A1-%EC%98%B5%EC%85%98%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EB%B0%9C%EC%86%A1%ED%95%98%EA%B8%B0-sending-emails-with-dynamic-delivery-options-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">발송 옵션을 이용하여 이메일 발송하기<span class="original-text-h">(Sending Emails with Dynamic Delivery Options)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#%ED%85%9C%ED%94%8C%EB%A6%BF%EC%9D%84-%EB%A0%8C%EB%8D%94%EB%A7%81%ED%95%98%EC%A7%80-%EC%95%8A%EA%B3%A0-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EB%B0%9C%EC%86%A1%ED%95%98%EA%B8%B0-sending-emails-without-template-rendering-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">템플릿을 렌더링하지 않고 이메일 발송하기<span class="original-text-h">(Sending Emails without Template Rendering)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
</ul>
</li>
<li><a href="#%EC%9D%B4%EB%A9%94%EC%9D%BC-%EC%88%98%EC%8B%A0%ED%95%98%EA%B8%B0-receiving-emails-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">이메일 수신하기<span class="original-text-h">(Receiving Emails)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#%EC%95%A1%EC%85%98-%EB%A9%94%EC%9D%BC%EB%9F%AC-%EC%BD%9C%EB%B0%B1-action-mailer-callbacks-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">액션 메일러 콜백<span class="original-text-h">(Action Mailer Callbacks)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#%EC%95%A1%EC%85%98-%EB%A9%94%EC%9D%BC%EB%9F%AC-%ED%97%AC%ED%8D%BC-%EB%A9%94%EC%86%8C%EB%93%9C-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0-using-action-mailer-helpers-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">액션 메일러 헬퍼 메소드 이용하기 <span class="original-text-h">(Using Action Mailer Helpers)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li>
<a href="#%EC%95%A1%EC%85%98-%EB%A9%94%EC%9D%BC%EB%9F%AC-%EC%84%A4%EC%A0%95-action-mailer-configuration-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">액션 메일러 설정<span class="original-text-h">(Action Mailer Configuration)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a>

<ul>
<li><a href="#%EC%95%A1%EC%85%98-%EB%A9%94%EC%9D%BC%EB%9F%AC-%EC%84%A4%EC%A0%95%EC%9D%98-%EC%98%88-example-action-mailer-configuration-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">액션 메일러 설정의 예<span class="original-text-h">(Example Action Mailer Configuration)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#gmail%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%95%A1%EC%85%98-%EB%A9%94%EC%9D%BC%EB%9F%AC-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0-action-mailer-configuration-for-gmail-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">Gmail을 위한 액션 메일러 설정하기<span class="original-text-h">(Action Mailer Configuration for Gmail)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
</ul>
</li>
<li><a href="#%EB%A9%94%EC%9D%BC%EB%9F%AC-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%98%EA%B8%B0-mailer-testing-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">메일러 테스트하기<span class="original-text-h">(Mailer Testing)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
<li><a href="#%EC%9D%B4%EB%A9%94%EC%9D%BC-%EA%B0%80%EB%A1%9C%EC%B1%84%EA%B8%B0-intercepting-emails-%EC%9B%90%EB%AC%B8%C2%B7%EC%A0%84%EC%B2%B4">이메일 가로채기<span class="original-text-h">(Intercepting Emails)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup></a></li>
</ol>

          </div>

    </div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <h3 id="개요-introduction-원문·전체">1 개요<span class="original-text-h">(Introduction)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h3><p>액션메일러를 이용하면, 메일러 클래스와 뷰를 사용하여 어플리케이션으로부터 이메일을 발송할 수 있습니다. 메일러는 컨트롤러와 매우 흡사하게 동작을 합니다. 메일러는 <code>ActionMailer::Base</code>로부터 상속을 받아 <code>app/mailers</code> 디렉토리에 위치하게 되며 <code>app/views</code> 디렉토리에 있는 뷰 파일들과 연결됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Action Mailer allows you to send emails from your application using mailer classes and views. Mailers work very similarly to controllers. They inherit from <code>ActionMailer::Base</code> and live in <code>app/mailers</code>, and they have associated views that appear in <code>app/views</code>.</p><h3 id="이메일-발송하기-sending-emails-원문·전체">2 이메일 발송하기<span class="original-text-h">(Sending Emails)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h3><p>여기에서는 메일러와 뷰를 생성하는 방법을 단계별로 소개할 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">This section will provide a step-by-step guide to creating a mailer and its views.</p><h4 id="메일러-생성방법-walkthrough-to-generating-a-mailer-원문·전체">2.1 메일러 생성방법<span class="original-text-h">(Walkthrough to Generating a Mailer)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><h5 id="메일러-생성-create-the-mailer-원문·전체">2.1.1 메일러 생성<span class="original-text-h">(Create the Mailer)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h5><div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
$ rails generate mailer UserMailer
create  app/mailers/user_mailer.rb
invoke  erb
create    app/views/user_mailer
invoke  test_unit
create    test/mailers/user_mailer_test.rb

</pre>
</div>
<p>보다시피, 일반적인 제너레이터를 사용할 때와 같이 메일러를 생성할 수 있습니다. 메일러는 개념적으로 컨트롤러와 비슷하기 때문에, 하나의 메일러와 이와 연결되는 뷰 디렉토리와 테스트 셋를 가지게 됩니다. [[[As you can see, you can generate mailers just like you use other generators with
Rails. Mailers are conceptually similar to controllers, and so we get a mailer,
a directory for views, and a test.]]]</p><p>제너레이터를 사용하지 않을 경우에는, app/mailers 디렉토리내에 직접 파일을 생성할 수 있으며, 이 때 메일러가 <code>ActionMailer::Base</code>로부터 상속 받도록 하면 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">If you didn't want to use a generator, you could create your own file inside of app/mailers, just make sure that it inherits from <code>ActionMailer::Base</code>:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class MyMailer &lt; ActionMailer::Base
end

</pre>
</div>
<h5 id="메일러-수정하기-edit-the-mailer-원문·전체">2.1.2 메일러 수정하기<span class="original-text-h">(Edit the Mailer)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h5><p>메일러는 컨트롤러와 매우 흡사합니다. 따라서 "액션"이고 부르는 메소드를 가지게 됩니다. 컨트롤러가 클라이언트로 보내게 되는 컨테츠를 생성하는 곳에, 메일러는 이메일로 발송하게 될 메시지를 생성하게 되는 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Mailers are very similar to Rails controllers. They also have methods called "actions" and use views to structure the content. Where a controller generates content like HTML to send back to the client, a Mailer creates a message to be delivered via email.</p><p><code>app/mailers/user_mailer.rb</code> 파일에는 내용이 없는 메일러 클래스가 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text"><code>app/mailers/user_mailer.rb</code> contains an empty mailer:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UserMailer &lt; ActionMailer::Base
  default from: 'from@example.com'
end

</pre>
</div>
<p><code>welcome_email</code>이라는 메소드를 정의해 보겠습니다. 이것은 유저가 등록한 이메일 주소로 이메일을 발송하게 될 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Let's add a method called <code>welcome_email</code>, that will send an email to the user's registered email address:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UserMailer &lt; ActionMailer::Base
  default from: 'notifications@example.com'

  def welcome_email(user)
    @user = user
    @url  = 'http://example.com/login'
    mail(to: @user.email, subject: 'Welcome to My Awesome Site')
  end
end

</pre>
</div>
<p>위의 메소드에 보여지는 항목들에 대해서 간단하게 설명을 해 보겠습니다. 사용할 수 있는 모든 옵션에 대한 전체 목록을 보기 위해서는 아래의 액션메일러 사용자 설정 속성 목록을 참고하기 바랍니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Here is a quick explanation of the items presented in the preceding method. For a full list of all available options, please have a look further down at the Complete List of Action Mailer user-settable attributes section.</p>
<ul>
<li>
<p><code>default 해시</code> - 이 옵션은 이 메일러로부터 발송하게 되는 이메일에 대한 디폴트 값들에 대한 해시를 지정합니다. 이 경우에는 이 클래스에서 발송하게 되는 모든 메시지에 대한 <code>:from</code> 헤더를 특정 값으로 지정하게 될 것입니다. 이 값은 이메일 각각에 대해서 변경할 수도 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text"><code>default Hash</code> - This is a hash of default values for any email you send from this mailer. In this case we are setting the <code>:from</code> header to a value for all messages in this class. This can be overridden on a per-email basis.</p>
</li>
<li>
<p><code>mail</code> - 실제로 보내지게 되는 이메일 메시지이며 <code>:to</code>와 <code>:subject</code> 헤더를 넘겨주게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text"><code>mail</code> - The actual email message, we are passing the <code>:to</code> and <code>:subject</code> headers in.</p>
</li>
</ul>
<p>컨트롤러와 같이 이 메소드에서 정의하게 되는 모든 인스턴스 변수는 메일러 뷰 파일에서도 사용할 수 있게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Just like controllers, any instance variables we define in the method become available for use in the views.</p><h5 id="메일러-뷰-생성하기-create-a-mailer-view-원문·전체">2.1.3 메일러 뷰 생성하기<span class="original-text-h">(Create a Mailer View)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h5><p><code>app/views/user_mailer/</code> 디렉토리에 <code>welcome_email.html.erb</code>라는 파일을 생성합니다. 이 파일은 이메일에 사용될 HTML 포맷의 템플릿이 될 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Create a file called <code>welcome_email.html.erb</code> in <code>app/views/user_mailer/</code>. This will be the template used for the email, formatted in HTML:</p><div class="code_container">
<pre class="brush: ruby; html-script: true; gutter: false; toolbar: false">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta content='text/html; charset=UTF-8' http-equiv='Content-Type' /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Welcome to example.com, &lt;%= @user.name %&gt;&lt;/h1&gt;
    &lt;p&gt;
      You have successfully signed up to example.com,
      your username is: &lt;%= @user.login %&gt;.&lt;br/&gt;
    &lt;/p&gt;
    &lt;p&gt;
      To login to the site, just follow this link: &lt;%= @url %&gt;.
    &lt;/p&gt;
    &lt;p&gt;Thanks for joining and have a great day!&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;

</pre>
</div>
<p>이 이메일에 대한 텍스트 버전도 만들어 보겠습니다. 모든 클라이언트가 HTML포맷의 이메일을 원치 않을 것이기 때문에 두개의 포맷을 발송하는 것이 최선의 방법입니다. 이를 위해서는 <code>app/views/user_mailer/</code> 디렉토리에 <code>welcome_email.text.erb</code>이라는 파일을 생성합니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Let's also make a text part for this email. Not all clients prefer HTML emails, and so sending both is best practice. To do this, create a file called <code>welcome_email.text.erb</code> in <code>app/views/user_mailer/</code>:</p><div class="code_container">
<pre class="brush: ruby; html-script: true; gutter: false; toolbar: false">
Welcome to example.com, &lt;%= @user.name %&gt;
===============================================

You have successfully signed up to example.com,
your username is: &lt;%= @user.login %&gt;.

To login to the site, just follow this link: &lt;%= @url %&gt;.

Thanks for joining and have a great day!

</pre>
</div>
<p>이제 <code>mail</code> 메소드를 호출하게 되면, 액션메일러가 텍스트와 HTML 포맷의 두가지 템블릿을 인식하고 자동으로 <code>multipart/alternative</code> 이메일을 생성하게 될 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">When you call the <code>mail</code> method now, Action Mailer will detect the two templates (text and HTML) and automatically generate a <code>multipart/alternative</code> email.</p><h5 id="메일러-호출하기-calling-the-mailer-원문·전체">2.1.4 메일러 호출하기<span class="original-text-h">(Calling the Mailer)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h5><p>메일러는 뷰를 렌더링하는 또 다른 방법에 불과합니다. 뷰를 렌더링하여 HTTP 프로토콜로 발송하는 대신에, 이메일 프로토콜로 발송할 뿐입니다. 따라서, 유저가 생성될 때 이메일을 발송하도록 컨트롤러가 메일러에게 알려주도록 하는 것은 자연스러운 것입니다. [[[Mailers are really just another way to render a view. Instead of rendering a view and sending out the HTTP protocol, they are just sending it out through the Email protocols instead. Due to this, it makes sense to just have your
controller tell the Mailer to send an email when a user is successfully created.]]]</p><p>이를 위한 설정 매우 간단합니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Setting this up is painfully simple.</p><p>우선, 간단한 <code>User</code> scaffold를 생성합니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">First, let's create a simple <code>User</code> scaffold:</p><div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
$ rails generate scaffold user name email login
$ rake db:migrate

</pre>
</div>
<p>이제 작업할 user 모델이 준비되었으므로, <code>app/controllers/users_controller.rb</code> 파일내의 create 액션이, 유저 정보가 성공적으로 저장된 직후에, <code>UserMailer.welcome_email</code>을 호출하도록 수정하여, 새로운 유저가 생성될 때 UserMailer가 이메일을 발송하도록 할 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Now that we have a user model to play with, we will just edit the <code>app/controllers/users_controller.rb</code> make it instruct the UserMailer to deliver an email to the newly created user by editing the create action and inserting a call to <code>UserMailer.welcome_email</code> right after the user is successfully saved:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UsersController &lt; ApplicationController
  # POST /users
  # POST /users.json
  def create
    @user = User.new(params[:user])

    respond_to do |format|
      if @user.save
        # Tell the UserMailer to send a welcome Email after save
        UserMailer.welcome_email(@user).deliver

        format.html { redirect_to(@user, notice: 'User was successfully created.') }
        format.json { render json: @user, status: :created, location: @user }
      else
        format.html { render action: 'new' }
        format.json { render json: @user.errors, status: :unprocessable_entity }
      end
    end
  end
end

</pre>
</div>
<p><code>welcome_email</code> 메소드는 <code>Mailer::Message</code> 객체를 반환하게 되고, 이 객체는 자신을 발송하기 위해 <code>deliver</code> 메소드를 호출하게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">The method <code>welcome_email</code> returns a <code>Mail::Message</code> object which can then just be told <code>deliver</code> to send itself out.</p><h4 id="자동-인코딩-헤더-값-auto-encoding-header-values-원문·전체">2.2 자동 인코딩 헤더 값<span class="original-text-h">(Auto encoding header values)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><p>액션메일러는 header와 body에 포함되어 있는 multibyte 문자들을 자동으로 인코딩합니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Action Mailer handles the auto encoding of multibyte characters inside of headers and bodies.</p><p>대체 문자셋을 정의하거나 자체 인코딩 텍스트 우선과 같은 복잡한 경우에 대해서는 <a href="https://github.com/mikel/mail">Mail</a> 라이브러리를 참고하기 바랍니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">For more complex examples such as defining alternate character sets or self-encoding text first, please refer to the <a href="https://github.com/mikel/mail">Mail</a> library.</p><h4 id="액션메일러-메소드-전체목록-complete-list-of-action-mailer-methods-원문·전체">2.3 액션메일러 메소드 전체목록<span class="original-text-h">(Complete List of Action Mailer Methods)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><p>이메일 메시지를 발송하기 위해서는 단 3가지 메소드만 있으면 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">There are just three methods that you need to send pretty much any email message:</p>
<ul>
<li>
<p><code>headers</code> - 이메일상에 원하는 헤더를 명시합니다. 헤더 필드명과 값 조합을 해시형태로 넘기거나 <code>headers[:field_name] = 'value'</code> 와 같이 호출할 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text"><code>headers</code> - Specifies any header on the email you want. You can pass a hash of header field names and value pairs, or you can call <code>headers[:field_name] = 'value'</code>.</p>
</li>
<li>
<p><code>attachments</code> - 이메일에 첨부파일을 추가할 수 있도록 해 줍니다. 예를 들어, <code>attachments['file-name.jpg'] = File.read('file-name.jpg')</code>와 같이 할 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text"><code>attachments</code> - Allows you to add attachments to your email. For example, <code>attachments['file-name.jpg'] = File.read('file-name.jpg')</code>.</p>
</li>
<li>
<p><code>mail</code> - 실제로 메일 자체를 발송합니다. 메일 메소드에 대한 해시를 헤더에 파라미터로 넘겨주면, mail 메소드는 작성해 놓은 이메일 템플릿에 따라 텍스트 또는 multipart 이메일을 생성하게 될 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text"><code>mail</code> - Sends the actual email itself. You can pass in headers as a hash to the mail method as a parameter, mail will then create an email, either plain text, or multipart, depending on what email templates you have defined.</p>
</li>
</ul>
<h5 id="파일-첨부하기-adding-attachments-원문·전체">2.3.1 파일 첨부하기<span class="original-text-h">(Adding Attachments)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h5><p>액션메일러는 매우 손쉽게 파일첨부를 할 수 있게 해 줍니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Action Mailer makes it very easy to add attachments.</p>
<ul>
<li>
<p>파일명과 내용을 넘겨주면 액션메일러와 <a href="https://github.com/mikel/mail">Mail gem</a>이 자동으로 mime_type을 결정하고 인코딩을 설정한 후에 첨부할 파일을 생성하게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">Pass the file name and content and Action Mailer and the <a href="https://github.com/mikel/mail">Mail gem</a> will automatically guess the mime_type, set the encoding and create the attachment.</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
attachments['filename.jpg'] = File.read('/path/to/filename.jpg')

</pre>
</div>
</li>
</ul>
<p>  <code>mail</code> 메소드가 호출되면 파일이 첨부된 multipart 이메일을 발송하게 됩니다. 이 때 이메일은 top level이 <code>multipart/mixed</code>로, first part는 <code>multipart/alternative</code>로 텍스트와 HTML 이메일 메시지를 포함하게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">When the <code>mail</code> method will be triggered, it will send a multipart email with an attachment, properly nested with the top level being <code>multipart/mixed</code> and the first part being a <code>multipart/alternative</code> containing the plain text and HTML email messages.</p><div class="note">
<p> 메일은 자동으로 첨부파일을 Base64로 인코딩할 것입니다. 다른 것으로 인코딩을 하고자한 한다면, 먼저 메일 컨텐츠를 인코딩한 후 인코딩된 컨텐츠와 인코딩을 <code>attachments</code> 메소드로 해시 형태로 넘겨 주면 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">Mail will automatically Base64 encode an attachment. If you want something different, encode your content and pass in the encoded content and encoding in a <code>Hash</code> to the <code>attachments</code> method.</p>
</div>
<ul>
<li>
<p>파일명을 넘겨주고 헤더값과 내용을 지정해 주면 액션메일러와 메일은 넘겨 받은 설정값을 사용할 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">Pass the file name and specify headers and content and Action Mailer and Mail will use the settings you pass in.</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
encoded_content = SpecialEncode(File.read('/path/to/filename.jpg'))
attachments['filename.jpg'] = {mime_type: 'application/x-gzip',
                               encoding: 'SpecialEncoding',
                               content: encoded_content }

</pre>
</div>
</li>
</ul>
<div class="note">
<p> 인코딩을 지정해 줄 경우, 메일은 메일내용이 이미 인코딩된 것으로 가정하고 Base64 인코딩을 시도하기 않게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">If you specify an encoding, Mail will assume that your content is already encoded and not try to Base64 encode it.</p>
</div><h5 id="인라인-파일첨부하기-making-inline-attachments-원문·전체">2.3.2 인라인 파일첨부하기<span class="original-text-h">(Making Inline Attachments)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h5><p>액션메일러 3.0에서는 인라인 파일첨부를 훨씬 간단하게 할 수 있습니다. 이것은 3.0 이전버전에서 해킹이 많았던 것과 관련이 있었습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Action Mailer 3.0 makes inline attachments, which involved a lot of hacking in pre 3.0 versions, much simpler and trivial as they should be.</p>
<ul>
<li>
<p>먼저, 메일에게 첨부파일을 인라인 방식으로 변경하라고 알려주어야 하는데, 메일러내에서 attachements 메소드에 <code>#inline</code>을 호출하면 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">First, to tell Mail to turn an attachment into an inline attachment, you just call <code>#inline</code> on the attachments method within your Mailer:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
def welcome
  attachments.inline['image.jpg'] = File.read('/path/to/image.jpg')
end

</pre>
</div>
</li>
<li>
<p>그리고나서 뷰에서는, 해시형태로 <code>attachments</code>를 참조하는데, 이때 보여줄 첨부파일명을 명시한 후에 <code>url</code> 메소드를 호출하여 <code>image_tag</code> 메소드로 결과를 넘겨주면 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">Then in your view, you can just reference <code>attachments</code> as a hash and specify which attachment you want to show, calling <code>url</code> on it and then passing the result into the <code>image_tag</code> method:</p>
<div class="code_container">
<pre class="brush: ruby; html-script: true; gutter: false; toolbar: false">
&lt;p&gt;Hello there, this is our image&lt;/p&gt;

&lt;%= image_tag attachments['image.jpg'].url %&gt;

</pre>
</div>
</li>
<li>
<p>이것은 <code>image_tag</code> 메소드에 대한 일반적인 호출방법이기 때문에 첨부파일 URL 이후에 옵션을 해시형태로 추가할 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">As this is a standard call to <code>image_tag</code> you can pass in an options hash after the attachment URL as you could for any other image:</p>
<div class="code_container">
<pre class="brush: ruby; html-script: true; gutter: false; toolbar: false">
&lt;p&gt;Hello there, this is our image&lt;/p&gt;

&lt;%= image_tag attachments['image.jpg'].url, alt: 'My Photo',
                                            class: 'photos' %&gt;

</pre>
</div>
</li>
</ul>
<h5 id="여러사람에게-이메일-발송하기-sending-email-to-multiple-recipients-원문·전체">2.3.3 여러사람에게 이메일 발송하기<span class="original-text-h">(Sending Email To Multiple Recipients)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h5><p><code>:to</code> 키에 이메일 목록을 지정해 주면 (예를 들어, 새로운 사용자 등록이 모든 관리자에게 알려 줄 경우) 하나의 이메일로 한사람 이상의 수신자에게 메일을 발송할 수 있게 됩니다. 이메일 목록은 이메일 주소들에 대한 배열형태나 콤마로 구분되는 여러개의 이메일로 구성된 하나의 문자열 형태를 가질 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">It is possible to send email to one or more recipients in one email (e.g., informing all admins of a new signup) by setting the list of emails to the <code>:to</code> key. The list of emails can be an array of email addresses or a single string with the addresses separated by commas.</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class AdminMailer &lt; ActionMailer::Base
  default to: Proc.new { Admin.pluck(:email) },
          from: 'notification@example.com'

  def new_registration(user)
    @user = user
    mail(subject: "New User Signup: #{@user.email}")
  end
end

</pre>
</div>
<p>동일한 포맷을 이용하여 carbon copy(Cc:)와 blind carbon copy(Bcc:) 수신자를 지정할 수 있으며, 이 때 <code>:cc</code>와 <code>:bcc</code> 키를 각각 사용합니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">The same format can be used to set carbon copy (Cc:) and blind carbon copy (Bcc:) recipients, by using the <code>:cc</code> and <code>:bcc</code> keys respectively.</p><h5 id="이메일을-수신자명과-함께-발송하기-sending-email-with-name-원문·전체">2.3.4 이메일을 수신자명과 함께 발송하기<span class="original-text-h">(Sending Email With Name)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h5><p>때때로 수신자들이 이메일을 받을 때 이메일 주소대신에 각자의 이름이 보여지도록 하고 싶은 경우가 있습니다. 이를 위해서, <code>"Full Name &lt;email&gt;"</code>와 같은 형태로 이메일 주소의 포맷을 지정해 주면 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Sometimes you wish to show the name of the person instead of just their email address when they receive the email. The trick to doing that is to format the email address in the format <code>"Full Name &lt;email&gt;"</code>.</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
def welcome_email(user)
  @user = user
  email_with_name = "#{@user.name} &lt;#{@user.email}&gt;"
  mail(to: email_with_name, subject: 'Welcome to My Awesome Site')
end

</pre>
</div>
<h4 id="메일러-뷰-mailer-views-원문·전체">2.4 메일러 뷰<span class="original-text-h">(Mailer Views)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><p>메일러 뷰 파일들은 <code>app/views/name_of_mailer_class</code> 디렉토리에 위치합니다. 특정 메일러 뷰는 메일러 메소드와 동일한 이름을 가지기 때문에 해당 메일러 클래스에서 알고 있습니다. 위의 예제에서, <code>welcome_mail</code> 메소드에 대한 메일러 뷰는, HTML 버전에 대해서는 <code>app/views/user_mailer/welcome_email.html.erb</code>, 텍스트 버전에 대해서는 <code>welcome_email.text.erb</code> 파일에 위치하게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Mailer views are located in the <code>app/views/name_of_mailer_class</code> directory. The specific mailer view is known to the class because its name is the same as the mailer method. In our example from above, our mailer view for the <code>welcome_email</code> method will be in <code>app/views/user_mailer/welcome_email.html.erb</code> for the HTML version and <code>welcome_email.text.erb</code> for the plain text version.</p><p>메일러 액션에 대한 디폴트 뷰를 다른 것으로 변경하고자 한다면, 다음과 같이 할 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">To change the default mailer view for your action you do something like:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UserMailer &lt; ActionMailer::Base
  default from: 'notifications@example.com'

  def welcome_email(user)
    @user = user
    @url  = 'http://example.com/login'
    mail(to: @user.email,
         subject: 'Welcome to My Awesome Site',
         template_path: 'notifications',
         template_name: 'another')
  end
end

</pre>
</div>
<p>이 경우에는 <code>another</code>라는 이름을 가지는 템플릿 파일을 <code>app/views/notifications</code> 디렉토리에서 찾게 될 것입니다. 또한 <code>template_path</code> 옵션에 경로들을 배열로 지정할 수 있으며 배열의 순서대로 경로를 검색하게 될 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">In this case it will look for templates at <code>app/views/notifications</code> with name <code>another</code>.  You can also specify an array of paths for <code>template_path</code>, and they will be searched in order.</p><p>더 많은 유연성을 가지기 위해서, 하나의 블럭을 넘겨서 특정 템플릿 파일을 렌더링하거나 템플릿 파일을 사용하지 않고 인라인 또는 텍스트를 직접 렌더링하도록 할 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">If you want more flexibility you can also pass a block and render specific templates or even render inline or text without using a template file:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UserMailer &lt; ActionMailer::Base
  default from: 'notifications@example.com'

  def welcome_email(user)
    @user = user
    @url  = 'http://example.com/login'
    mail(to: @user.email,
         subject: 'Welcome to My Awesome Site') do |format|
      format.html { render 'another_template' }
      format.text { render text: 'Render text' }
    end
  end
end

</pre>
</div>
<p>위의 코드는 HTML 파트로 'another_template.html.erb' 템플릿을, 텍스트 파트로 텍스트를 렌더링하도록 할 것입니다. render 명령은 액션컨트롤러에서 사용하는 결과 동일한 것이어서 <code>:text</code>, <code>:inline</code> 등과 같은 모든 옵션을 동일하게 사용할 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">This will render the template 'another_template.html.erb' for the HTML part and use the rendered text for the text part. The render command is the same one used inside of Action Controller, so you can use all the same options, such as <code>:text</code>, <code>:inline</code> etc.</p><h4 id="액션-메일러-레이아웃-action-mailer-layouts-원문·전체">2.5 액션 메일러 레이아웃<span class="original-text-h">(Action Mailer Layouts)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><p>컨트롤러의 뷰와 같이 메일러 레이아웃을 사용할 수 있습니다. 레이아웃의 이름은 메일러와 동일해야 합니다. 예를 들어, <code>user_mail.html.erb</code>, <code>user_mail.text.erb</code> 파일은 해당 메일러에서 자동으로 레이아웃 파일로 인식하게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Just like controller views, you can also have mailer layouts. The layout name needs to be the same as your mailer, such as <code>user_mailer.html.erb</code> and <code>user_mailer.text.erb</code> to be automatically recognized by your mailer as a layout.</p><p>다른 파일을 사용하기 위해서는, 메일러에서 <code>layout</code>을 호출하면 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">In order to use a different file, call <code>layout</code> in your mailer:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UserMailer &lt; ActionMailer::Base
  layout 'awesome' # use awesome.(html|text).erb as the layout
end

</pre>
</div>
<p>컨트롤러 뷰와 같이, 레이아웃내에 뷰를 렌더링하기 위해서 <code>yield</code>를 사용하면 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Just like with controller views, use <code>yield</code> to render the view inside the layout.</p><p>포맷 블록내에서 <code>layout: 'layout_name'</code> 옵션을 지정해서 render를 호출하면 각각 다른 포맷에 대한 별도의 레이아웃을 지정할 수 있게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">You can also pass in a <code>layout: 'layout_name'</code> option to the render call inside the format block to specify different layouts for different formats:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UserMailer &lt; ActionMailer::Base
  def welcome_email(user)
    mail(to: user.email) do |format|
      format.html { render layout: 'my_layout' }
      format.text
    end
  end
end

</pre>
</div>
<p>위의 코드는 HTML 파트에 대해서 <code>my_layout.html.erb</code> 파일을, 존재한다면 텍스트 파트에 대해서는 <code>user_mailer.text.erb</code> 파일을 이용해서 렌더링하게 될 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Will render the HTML part using the <code>my_layout.html.erb</code> file and the text part with the usual <code>user_mailer.text.erb</code> file if it exists.</p><h4 id="액션메일러-뷰에서-url을-생성하기-generating-urls-in-action-mailer-views-원문·전체">2.6 액션메일러 뷰에서 URL을 생성하기<span class="original-text-h">(Generating URLs in Action Mailer Views)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><p>일반적인 컨트롤러와는 다르게 메일러 인스턴스는 외부로부터 들어노는 요청에 대한 정보를 가지고 있지 않습니다. 따라서 직접 <code>:host</code> 파라미터를 제공해 줄 필요가 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Unlike controllers, the mailer instance doesn't have any context about the incoming request so you'll need to provide the <code>:host</code> parameter yourself.</p><p><code>:host</code>는 대개 어플리케이션 전체에 대해서 동일하기 때문에, <code>config/application.rb</code> 파일에서 그 값을 전역값으로 설정해 줄 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">As the <code>:host</code> usually is consistent across the application you can configure it globally in <code>config/application.rb</code>:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
config.action_mailer.default_url_options = { host: 'example.com' }

</pre>
</div>
<h5 id="url-for를-이용하여-url-생성하기-generating-urls-with-url-for-원문·전체">2.6.1 <code>url_for</code>를 이용하여 URL 생성하기<span class="original-text-h">(generating URLs with <code>url_for</code>)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h5><p><code>url_for</code> 메소드를 사용할 때는 <code>only_path</code> 옵션을 <code>false</code> 값으로 지정해 줄 필요가 있습니다. 왜냐하면 <code>url_for</code> 헬퍼 메소드는 디폴트로 <code>:host</code> 옵션이 명시적으로 지정되지 않으면 상대경로의 URL을 생성하기 때문입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">You need to pass the <code>only_path: false</code> option when using <code>url_for</code>. This will ensure that absolute URLs are generated because the <code>url_for</code> view helper will, by default, generate relative URLs when a <code>:host</code> option isn't explicitly provided.</p><div class="code_container">
<pre class="brush: ruby; html-script: true; gutter: false; toolbar: false">
&lt;%= url_for(controller: 'welcome',
            action: 'greeting',
            only_path: false) %&gt;

</pre>
</div>
<p>전역값으로 <code>:host</code> 옵션을 설정하지 않은 경우에는 <code>url_for</code> 메소드에 이 옵션을 넘겨 주어야 합니다. [[[If you did not configure the <code>:host</code> option globally make sure to pass it to
<code>url_for</code>.]]]</p><div class="code_container">
<pre class="brush: ruby; html-script: true; gutter: false; toolbar: false">
&lt;%= url_for(host: 'example.com',
            controller: 'welcome',
            action: 'greeting') %&gt;

</pre>
</div>
<div class="note">
<p> <code>:host</code> 옵션을 명시적으로 넘겨주게 되면 레일스는 항상 절대경로의 URL을 생성하기 때문에, <code>only_path: false</code> 옵션을 지정해 줄 필요가 없게 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">When you explicitly pass the <code>:host</code> Rails will always generate absolute URLs, so there is no need to pass <code>only_path: false</code>.</p>
</div><h5 id="named-라우팅을-이용하여-url-생성하기-generating-urls-with-named-routes-원문·전체">2.6.2 named 라우팅을 이용하여 URL 생성하기<span class="original-text-h">(generating URLs with named routes)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h5><p>이메일 클라이언트는 웹환경을 가지고 있지 않기 때문에 완전한 웹주소를 가지기 위한 base URL을 가지고 있지 않습니다. 따라서, named 라우팅 헬퍼인 "<em>url" 메소드를 항상 사용해야 합니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></em></p><p class="original-text">Email clients have no web context and so paths have no base URL to form complete web addresses. Thus, you should always use the "url" variant of named route helpers.</p><p>전역값으로 <code>:host</code> 옵션을 설정하기 않은 경우에는 url 헬퍼에 명시적으로 해당 옵션을 넘겨 주어야 합니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">If you did not configure the <code>:host</code> option globally make sure to pass it to the url helper.</p><div class="code_container">
<pre class="brush: ruby; html-script: true; gutter: false; toolbar: false">
&lt;%= user_url(@user, host: 'example.com') %&gt;

</pre>
</div>
<h4 id="multipart-이메일-발송하기-sending-multipart-emails-원문·전체">2.7 Multipart 이메일 발송하기<span class="original-text-h">(Sending Multipart Emails)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><p>액션 메일러는 동일한 액션에 대해서 다른 템플릿 파일을 가지고 있는 경우 multipart 이메일을 자동으로 발송해 줍니다. 따라서, UserMailer 예의 경우, <code>app/views/user_mailer</code> 디렉토리에 <code>welcome_email.text.erb</code>와 <code>welcome_email.html.erb</code> 파일이 있을 경우, 액션 메일러는 각기 다른 파트별로 자동으로 HTML과 텍스트 버전을 이용하여 multipart 이메일을 발송하게 될 것입니다. [[[Action Mailer will automatically send multipart emails if you have different
templates for the same action. So, for our UserMailer example, if you have
<code>welcome_email.text.erb</code> and <code>welcome_email.html.erb</code> in <code>app/views/user_mailer</code>, Action Mailer will automatically send a multipart email with the HTML and text versions setup as different parts.]]]</p><p>삽입되는 파트별 순서는 <code>ActionMailer::Base.default</code> 메소드내의 <code>:parts_order</code>에 의해 결정됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">The order of the parts getting inserted is determined by the <code>:parts_order</code> inside of the <code>ActionMailer::Base.default</code> method.</p><h4 id="발송-옵션을-이용하여-이메일-발송하기-sending-emails-with-dynamic-delivery-options-원문·전체">2.8 발송 옵션을 이용하여 이메일 발송하기<span class="original-text-h">(Sending Emails with Dynamic Delivery Options)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><p>이메일을 발송할 때, SMTP credentails과 같은 디폴트 발송 옵션을 변경하고자 한다면 메일러 액션에서 <code>delivery_method_options</code> 을 지정하면 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">If you wish to override the default delivery options (e.g. SMTP credentials) while delivering emails, you can do this using <code>delivery_method_options</code> in the mailer action.</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UserMailer &lt; ActionMailer::Base
  def welcome_email(user, company)
    @user = user
    @url  = user_url(@user)
    delivery_options = { user_name: company.smtp_user,
                         password: company.smtp_password,
                         address: company.smtp_host }
    mail(to: @user.email,
         subject: "Please see the Terms and Conditions attached",
         delivery_method_options: delivery_options)
  end
end

</pre>
</div>
<h4 id="템플릿을-렌더링하지-않고-이메일-발송하기-sending-emails-without-template-rendering-원문·전체">2.9 템플릿을 렌더링하지 않고 이메일 발송하기<span class="original-text-h">(Sending Emails without Template Rendering)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><p>때로는 템플릿 렌더링 단계를 거치지 않고 이메일 body를 문자열로 대신하고자 할 경우가 있습니다. 이런 경우에는 <code>:body</code> 옵션을 사용하면 됩니다. 이 때는 <code>:content_type</code> 옵션을 추가할 것을 잊어서는 안 됩니다. 그렇지 않을 경우 레일스는 디플트로 <code>text/plain</code>으로 지정하게 될 것입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">There may be cases in which you want to skip the template rendering step and supply the email body as a string. You can achieve this using the <code>:body</code> option. In such cases don't forget to add the <code>:content_type</code> option. Rails will default to <code>text/plain</code> otherwise.</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UserMailer &lt; ActionMailer::Base
  def welcome_email(user, email_body)
    mail(to: user.email,
         body: email_body,
         content_type: "text/html",
         subject: "Already rendered!")
  end
end

</pre>
</div>
<h3 id="이메일-수신하기-receiving-emails-원문·전체">3 이메일 수신하기<span class="original-text-h">(Receiving Emails)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h3><p>액션 메일러 이메일을 수신하여 파싱하는 것은 다소 복잡한 과정이 필요합니다. 이메일이 레일스 어플리케이션에 도달하기 전에, 이메일을 어플리케이션으로 전달할 수 있도록 시스템에 미리 설정을 해 주어야 하는데, 이를 위해서 이메일이 도착하는지를 항상 모니터링해야 할 필요가 있습니다. 따라서 레일스 어플리케이션에서 이메일을 수신하기 위해서는 다음과 같은 조치를 취할 필요가 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Receiving and parsing emails with Action Mailer can be a rather complex endeavor. Before your email reaches your Rails app, you would have had to configure your system to somehow forward emails to your app, which needs to be listening for that. So, to receive emails in your Rails app you'll need to:</p>
<ul>
<li>
<p>메일러에 <code>receive</code> 메소드를 작성해야 합니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">Implement a <code>receive</code> method in your mailer.</p>
</li>
<li>
<p>이메일 서버의 설정을 변경해서 어플리케이션에서 이메일을 수신하고자 하는 주소로부터 이메일을 <code>/path/to/app/bin/rails runner 'UserMailer.receive(STDIN.read)'</code>로 전달하도록 해야 합니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">Configure your email server to forward emails from the address(es) you would like your app to receive to <code>/path/to/app/bin/rails runner 'UserMailer.receive(STDIN.read)'</code>.</p>
</li>
</ul>
<p>메일러에 <code>receive</code> 메소드가 이미 정의되어 있다면, 액션 메일러는 수신된 이메일을 파싱해서 이메일 객체로 만들게 되고 이를 디코딩해서 새로운 메일러를 만들어 줍니다. 그리고나서 이메일 객체를 이 메일러의 <code>receive</code> 인스턴스 메소드로 넘겨 주게됩니다. 아래에 예제가 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Once a method called <code>receive</code> is defined in any mailer, Action Mailer will parse the raw incoming email into an email object, decode it, instantiate a new mailer, and pass the email object to the mailer <code>receive</code> instance method. Here's an example:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UserMailer &lt; ActionMailer::Base
  def receive(email)
    page = Page.find_by(address: email.to.first)
    page.emails.create(
      subject: email.subject,
      body: email.body
    )

    if email.has_attachments?
      email.attachments.each do |attachment|
        page.attachments.create({
          file: attachment,
          description: email.subject
        })
      end
    end
  end
end

</pre>
</div>
<h3 id="액션-메일러-콜백-action-mailer-callbacks-원문·전체">4 액션 메일러 콜백<span class="original-text-h">(Action Mailer Callbacks)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h3><p>액션 메일러는 <code>before_action</code>, <code>after_action</code>, <code>around_action</code> 필터를 지정할 수 있게 해 줍니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Action Mailer allows for you to specify a <code>before_action</code>, <code>after_action</code> and <code>around_action</code>.</p>
<ul>
<li>
<p>이러한 필터들은 블록형태나 컨트롤러와 같이 메일러 클래스의 특정 메소드에 대한 심볼 형태로 지정할 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">Filters can be specified with a block or a symbol to a method in the mailer class similar to controllers.</p>
</li>
<li>
<p><code>before_action</code> 필터를 이용해서, 이메일 객체에 디폴트 값을 전달할 수 있고, delivery_method_options을 지정하며, 디폴트 헤더와 첨부파일을 삽입해 줄 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">You could use a <code>before_action</code> to populate the mail object with defaults, delivery_method_options or insert default headers and attachments.</p>
</li>
<li>
<p><code>after_action</code> 필터를 이용해서 <code>before_action</code>과 같이 비슷한 설정을 할 수 있지만, 이 때는 메일러 액션에 인스턴스 변수들을 이용해야 합니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">You could use an <code>after_action</code> to do similar setup as a <code>before_action</code> but using instance variables set in your mailer action.</p>
</li>
</ul>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class UserMailer &lt; ActionMailer::Base
  after_action :set_delivery_options,
               :prevent_delivery_to_guests,
               :set_business_headers

  def feedback_message(business, user)
    @business = business
    @user = user
    mail
  end

  def campaign_message(business, user)
    @business = business
    @user = user
  end

  private

    def set_delivery_options
      # You have access to the mail instance,
      # @business and @user instance variables here
      if @business &amp;&amp; @business.has_smtp_settings?
        mail.delivery_method.settings.merge!(@business.smtp_settings)
      end
    end

    def prevent_delivery_to_guests
      if @user &amp;&amp; @user.guest?
        mail.perform_deliveries = false
      end
    end

    def set_business_headers
      if @business
        headers["X-SMTPAPI-CATEGORY"] = @business.code
      end
    end
end

</pre>
</div>

<ul>
<li>메일러 필터들은 이메일 body가 nil이 아닌 값으로 설정되면 더 이상 과정을 처리하지 못하게 합니다. [[[Mailer Filters abort further processing if body is set to a non-nil value.]]]</li>
</ul>
<h3 id="액션-메일러-헬퍼-메소드-이용하기-using-action-mailer-helpers-원문·전체">5 액션 메일러 헬퍼 메소드 이용하기 <span class="original-text-h">(Using Action Mailer Helpers)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h3><p>액션 메일러는 이제 <code>AbstractController</code> 클래스로부터 상속을 받습니다. 따라서 액션 컨트롤러에서와 같은 일반적인 헬퍼 메소드를 사용할 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Action Mailer now just inherits from <code>AbstractController</code>, so you have access to the same generic helpers as you do in Action Controller.</p><h3 id="액션-메일러-설정-action-mailer-configuration-원문·전체">6 액션 메일러 설정<span class="original-text-h">(Action Mailer Configuration)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h3><p>아래의 설정 옵션들은 environment.rb, production.rb 등과 같은 환경 파일 중의 하나에서 최상으로 구성된 것들입니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">The following configuration options are best made in one of the environment files (environment.rb, production.rb, etc...)</p>
<table>
<thead>
<tr>
<th>Configuration</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>logger</code></td>
<td>Generates information on the mailing run if available. Can be set to <code>nil</code> for no logging. Compatible with both Ruby's own <code>Logger</code> and <code>Log4r</code> loggers.</td>
</tr>
<tr>
<td><code>smtp_settings</code></td>
<td>Allows detailed configuration for <code>:smtp</code> delivery method:<ul>
<li>
<code>:address</code> - Allows you to use a remote mail server. Just change it from its default "localhost" setting.</li>
<li>
<code>:port</code> - On the off chance that your mail server doesn't run on port 25, you can change it.</li>
<li>
<code>:domain</code> - If you need to specify a HELO domain, you can do it here.</li>
<li>
<code>:user_name</code> - If your mail server requires authentication, set the username in this setting.</li>
<li>
<code>:password</code> - If your mail server requires authentication, set the password in this setting.</li>
<li>
<code>:authentication</code> - If your mail server requires authentication, you need to specify the authentication type here. This is a symbol and one of <code>:plain</code>, <code>:login</code>, <code>:cram_md5</code>.</li>
<li>
<code>:enable_starttls_auto</code> - Set this to <code>false</code> if there is a problem with your server certificate that you cannot resolve.</li>
</ul>
</td>
</tr>
<tr>
<td><code>sendmail_settings</code></td>
<td>Allows you to override options for the <code>:sendmail</code> delivery method.<ul>
<li>
<code>:location</code> - The location of the sendmail executable. Defaults to <code>/usr/sbin/sendmail</code>.</li>
<li>
<code>:arguments</code> - The command line arguments to be passed to sendmail. Defaults to <code>-i -t</code>.</li>
</ul>
</td>
</tr>
<tr>
<td><code>raise_delivery_errors</code></td>
<td>Whether or not errors should be raised if the email fails to be delivered. This only works if the external email server is configured for immediate delivery.</td>
</tr>
<tr>
<td><code>delivery_method</code></td>
<td>Defines a delivery method. Possible values are <code>:smtp</code> (default), <code>:sendmail</code>, <code>:file</code> and <code>:test</code>.</td>
</tr>
<tr>
<td><code>perform_deliveries</code></td>
<td>Determines whether deliveries are actually carried out when the <code>deliver</code> method is invoked on the Mail message. By default they are, but this can be turned off to help functional testing.</td>
</tr>
<tr>
<td><code>deliveries</code></td>
<td>Keeps an array of all the emails sent out through the Action Mailer with delivery_method :test. Most useful for unit and functional testing.</td>
</tr>
<tr>
<td><code>default_options</code></td>
<td>Allows you to set default values for the <code>mail</code> method options (<code>:from</code>, <code>:reply_to</code>, etc.).</td>
</tr>
</tbody>
</table>
<p>가능한 설정을 모두 보기 위해서는 레일스 어플리케이션 설정하기 가이드에 있는 <a href="configuring.html#configuring-action-mailer">액션 메일러 설정</a>를 보기 바랍니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">For a complete writeup of possible configurations see the <a href="configuring.html#configuring-action-mailer">Action Mailer section</a> in our Configuring Rails Applications guide.</p><h4 id="액션-메일러-설정의-예-example-action-mailer-configuration-원문·전체">6.1 액션 메일러 설정의 예<span class="original-text-h">(Example Action Mailer Configuration)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><p>아래의 예는 적당한 환경 파일 <code>config/environments/$RAILS_ENV.rb</code>에 추가해 주면 됩니다. [[[An example would be adding the following to your appropriate 
<code>config/environments/$RAILS_ENV.rb</code> file:]]]</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
config.action_mailer.delivery_method = :sendmail
# Defaults to:
# config.action_mailer.sendmail_settings = {
#   location: '/usr/sbin/sendmail',
#   arguments: '-i -t'
# }
config.action_mailer.perform_deliveries = true
config.action_mailer.raise_delivery_errors = true
config.action_mailer.default_options = {from: 'no-reply@example.com'}

</pre>
</div>
<h4 id="gmail을-위한-액션-메일러-설정하기-action-mailer-configuration-for-gmail-원문·전체">6.2 Gmail을 위한 액션 메일러 설정하기<span class="original-text-h">(Action Mailer Configuration for Gmail)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h4><p>액션 메일러는 Mail 젬을 사용하기 때문에, <code>config/environments/$RAILS_ENV.rb</code> 파일에 아래의 설정을 추가하기만 할 정도로 간단해 졌습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">As Action Mailer now uses the Mail gem, this becomes as simple as adding to your <code>config/environments/$RAILS_ENV.rb</code> file:</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
config.action_mailer.delivery_method = :smtp
config.action_mailer.smtp_settings = {
  address:              'smtp.gmail.com',
  port:                 587,
  domain:               'example.com',
  user_name:            '&lt;username&gt;',
  password:             '&lt;password&gt;',
  authentication:       'plain',
  enable_starttls_auto: true  }

</pre>
</div>
<h3 id="메일러-테스트하기-mailer-testing-원문·전체">7 메일러 테스트하기<span class="original-text-h">(Mailer Testing)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h3><p><a href="testing.html#testing-your-mailers">테스트하기 가이드</a>를 보면 메일러를 테스트하는 방법에 대해서 자세하게 나와 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">You can find detailed instructions on how to test your mailers in the <a href="testing.html#testing-your-mailers">testing guide</a>.</p><h3 id="이메일-가로채기-intercepting-emails-원문·전체">8 이메일 가로채기<span class="original-text-h">(Intercepting Emails)</span> <sup><a href="#" class="original-link" onclick="$(this).parent().prev().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text, .original-text-h').toggle();return false;">전체}</a></sup>
</h3><p>때로는 이메일리 발송되기 전에 수정을 해야할 필요가 있습니다. 다행이도 액션 메일러는 모든 이메일을 가로채기 위한 콜백 후크를 제공해 줍니다. interceptor를 등록해 주면, 이메일이 발송되기 직전에 메일 메시지를 수정할 수 있습니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">There are situations where you need to edit an email before it's delivered. Fortunately Action Mailer provides hooks to intercept every email. You can register an interceptor to make modifications to mail messages right before they are handed to the delivery agents.</p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
class SandboxEmailInterceptor
  def self.delivering_email(message)
    message.to = ['sandbox@example.com']
  end
end

</pre>
</div>
<p>interceptor가 제대로 동작하기 위해서는 액션 메일러 프레임워크에 먼저 등록을 해 주어야 합니다. <code>config/initializers/sandbox_email_interceptor.rb</code> 파일에서 이러한 작업을 해 주면 됩니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p><p class="original-text">Before the interceptor can do its job you need to register it with the Action Mailer framework. You can do this in an initializer file <code>config/initializers/sandbox_email_interceptor.rb</code></p><div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
ActionMailer::Base.register_interceptor(SandboxEmailInterceptor) if Rails.env.staging?

</pre>
</div>
<div class="note">
<p> 위의 설정은 운영환경이지만 테스트 목적의 "staging"이라는 커스텀 환경을 사용합니다. 커스텀 레일스 환경에 대한 자세한 내용은 <a href="./configuring.html#creating-rails-environments">Creating Rails environments</a>를 참고하기 바랍니다. <sup><a href="#" class="original-link" onclick="$(this).parent().parent().next().toggle();return false;">{원문</a><a href="#" class="original-link">·</a><a href="#" class="original-link" onclick="$('.original-text').toggle();return false;">전체}</a></sup></p>
<p class="original-text">The example above uses a custom environment called "staging" for a production like server but for testing purposes. You can read <a href="./configuring.html#creating-rails-environments">Creating Rails environments</a> for more information about custom Rails environments.</p>
</div>

        <h3>피드백</h3>
        <p>
          이 가이드의 질을 향상시키기 위한 도움을 기다리고 있습니다.
        </p>
        <p>
          수정이 필요한 오타나 에러를 발견하면 <a href="https://github.com/lifo/docrails">docrails</a>을 클론한 후 직접 변경내용을 push하시기 바랍니다. 레일스의 해당 브랜치는 누구나가 write 권한이 있습니다. 커밋한 내용에 대해서는 검토작업이 이루어질 것이지만 변경내용을 서밋한 이후에 진행됩니다. <a href="https://github.com/lifo/docrails">docrails</a>은 정기적으로 master 브랜치와 클로스 머지됩니다. 
        </p>
        <p>
          미완성된 내용이나 업데이트되지 않은 내용이 있을 수 있습니다. 누락된 문서를 추가해 주시기 바랍니다. 문서작성시 참고해야할 스타일과 규칙은 <a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a>를 확인하시기 바랍니다. 
        </p>
        <p>
          어떤 이유에서든지, 수정이 필요한 부분을 직접 변경할 수 없는 경우에는 <a href="https://github.com/rails/rails/issues">open an issue</a>로 접속하여 문제점을 제출해 주시기 바랍니다. 
        </p>
        <p>
          마지막으로, 루비온레일스 문서화에 관련된 논의가 필요한 사항은 <a href="http://groups.google.com/group/rubyonrails-docs">rubyonrails-docs mailing list</a>에서 해 주시기 바랍니다. 
        </p>
        <h3>문서생성일</h3>
        <p>최종 생성일 : 2015-01-26 09:09:19 +0900 </p>
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p>이 작업은 <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0</a> License 특허권을 가지고 있습니다.</p>
<p>"Rails", "Ruby on Rails", 그리고 레일스 로고는 David Heinemeier Hansson의 등록상표이며, 저작권 보호를 받고 있습니다.</p>


    </div>
  </div>

  <script type="text/javascript" src="javascripts/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/responsive-tables.js"></script>
  <script type="text/javascript" src="javascripts/guides.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shCore.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushRuby.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushXml.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushSql.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushPlain.js"></script>
  <script type="text/javascript">
    SyntaxHighlighter.all()
    $(guidesIndex.bind);
  </script>
</body>
</html>
